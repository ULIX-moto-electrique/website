---
import Logo from '../assets/theme-images/logo.svg'

const { settings } = Astro.props

const socialIcons = {
  LinkedIn: `<svg xmlns="www.w3.org" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect width="4" height="12" x="2" y="9"/><circle cx="4" cy="4" r="2"/></svg>`,
  Instagram: `<svg xmlns="www.w3.org" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>`,
  Website: `<svg xmlns="www.w3.org" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>`
}
---

<footer class="@container bs-container mt-24 mb-8 font-semibold text-foreground-dark [&_a]:hover:text-foreground-light [&_a]:transition-color [&_a]:duration-150" id="contact">
  <div class="bg-surface-3/10 p-4 md:p-8 rounded-xl flex justify-between gap-8">
    
    <!-- Left col -->
    <div class="flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-15 text-foreground-light">
      <a class="flex group" href="#top" aria-label="Back to top">
        <Logo
          class="group-hover:-rotate-180 group-hover:scale-80 transition-transform ease-spring duration-1000"
          height="72"
          width="72"
        />
      </a>

      <a
        href={settings.join_us_link}
        class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg bg-accent-0 text-background font-semibold text-sm shadow-md shadow-accent-0/20 transition-all duration-200 ease-out hover:bg-accent-0/90 hover:shadow-lg hover:shadow-accent-0/30 hover:-translate-y-0.5 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-0 focus-visible:ring-offset-2 focus-visible:ring-offset-white/10"
      >
        Rejoindre l’équipe
      </a>
    </div>

    <!-- Right col -->
    <div class="flex flex-wrap gap-4 md:justify-end">
      <nav class="flex flex-col gap-1 items-end">
        {settings.social_links
          .sort((a, b) => a.title.localeCompare(b.title))
          .map(item => {
            const iconSvg = socialIcons[item.title] || socialIcons.Website

            return (
              <a href={item.link} class="group flex! items-center gap-3 rounded-md px-3 py-2 text-foreground-light transition-all duration-200 hover:bg-surface-2">
                <span class="opacity-70 transition-all duration-200 group-hover:opacity-100 group-hover:scale-110 flex items-center justify-center" set:html={iconSvg} />
                <span>{item.title}</span>
              </a>
            )
          })}
      </nav>
    </div>
  </div>
</footer>
